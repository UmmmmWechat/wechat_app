{"version":3,"sources":["webpack:///./src/pages/select_spots/main.js","webpack:///src/pages/select_spots/index.vue","webpack:///./src/pages/select_spots/index.vue?ab6b","webpack:///./src/pages/select_spots/index.vue?fdff","webpack:///./src/pages/select_spots/index.vue"],"names":["app","Vue","App","$mount","config","navigationBarTitleText"],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,IAAMA,MAAM,IAAIC,2CAAJ,CAAQC,uDAAR,CAAZ;AACAF,IAAIG,MAAJ;;AAEe;AACbC,UAAQ;AACNC,4BAAwB;AADlB;AADK,CAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6FA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,sFADA;AAEA,wFAFA;AAGA;AAHA,GADA;AAMA,MANA,kBAMA;AACA;AACA,eADA;;AAGA,oBAHA;AAIA,4BAJA,EAIA;AACA,uBALA;AAMA,oBANA;AAOA,mBAPA;AAQA,uBARA;;AAUA,4BAVA;AAWA,8BAXA;;AAaA;AAbA;AAeA,GAtBA;;AAuBA;AACA,eADA,yBACA;AACA;AACA;AAHA,GAvBA;AA4BA,SA5BA,qBA4BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GA3CA;;AA4CA;AACA,QADA,gBACA,OADA,EACA;AAAA;AAAA;AAAA;;AACA;AACA,KAHA;AAIA,UAJA,kBAIA,OAJA,EAIA;AAAA;AAAA;AAAA;;AACA;AACA,KANA;AAOA,kBAPA,0BAOA,MAPA,EAOA;AAAA;AAAA;AAAA;;AACA;;AAEA;AACA;AACA,oBADA;AAEA;AAFA;AAIA,KAfA;AAgBA,qBAhBA,+BAgBA;AACA;AACA,8DAFA,CAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAzBA;AA0BA,wBA1BA,gCA0BA,KA1BA,EA0BA;AAAA;;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,MAAM,0DAAO,CAAb,oBACA,eADA,EAEA,SAFA,EAGA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,OAbA,EAcA;AACA;;AAEA;AACA,OAlBA;AAoBA,KA9DA;AA+DA,qBA/DA,6BA+DA,KA/DA,EA+DA;AAAA;;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8CAXA,CAWA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,MAAM,0DAAO,CAAb,oBACA,eADA,EAEA,CAFA,EAGA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,OAbA,EAcA;AACA;;AAEA;AACA,OAlBA;AAoBA,KAzGA;AA0GA,oBA1GA,4BA0GA,IA1GA,EA0GA;AACA;;AAEA,uCACA;AAAA;AAAA,OADA,MAEA,EAFA,EAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBACA,qBACA;AAAA;AAAA,OADA,CADA,EAIA,CAJA;AAMA,KA7HA;AA8HA,oBA9HA,4BA8HA,IA9HA,EA8HA;AACA;;AAEA;AACA,gCACA,6BACA;AAAA;AAAA,OADA,CADA,EAIA,CAJA;AAMA,KAxIA;AAyIA,gBAzIA,0BAyIA;AAAA;;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,0FADA;AAEA,gCAFA;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AAXA;AAaA,KA/JA;AAgKA,qBAhKA,6BAgKA,KAhKA,EAgKA;AAAA;;AACA;;AAEA;AACA;AACA,iBACA;AACA;AACA,OAHA,EAGA,GAHA;;AAMA;AACA;AACA;AACA;AACA,8CAfA,CAeA;;AAEA;AACA;AACA,KAnLA;AAoLA,eApLA,yBAoLA;AAAA;;AACA;;AAEA;AACA,iBACA;AACA;AACA,OAHA,EAGA,GAHA;;AAKA;AACA,oBADA;AAEA;AAFA;AAIA;AAjMA;AA5CA,G;;;;;;;AC3GA,yC;;;;;;;;ACAA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,iBAAiB;AACF,kEAAS;AACxB,IAAI,KAAU;AACd;AACA;AACA;AACA;AACA,C;;;;;;;;AC3JA;AAAA;AAAA;AACA;AACA;AACA,EAAE,mBAAO,CAAC,GAAgiB;AAC1iB;AACA,yBAAyB,mBAAO,CAAC,CAAmF;AACpH;AACgJ;AAChJ;AACkX;AAClX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,uJAAc;AAChB,EAAE,yTAAgB;AAClB;AACA;AACA;AACA;AACA;AACA,+EAA+E,sDAAsD,IAAI;AACzI,mCAAmC;;AAEnC;AACA,IAAI,KAAU,GAAG;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAEc,0EAAiB","file":"static/js/pages/select_spots/main.js","sourcesContent":["import Vue from 'vue'\r\nimport App from './index'\r\n\r\nconst app = new Vue(App)\r\napp.$mount()\r\n\r\nexport default {\r\n  config: {\r\n    navigationBarTitleText: '选择景点'\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/select_spots/main.js","/*\r\n 在这里可以选择景点\r\n 首先是按关键字搜索出景点，然后选择它们\r\n 可多选，可删除选择\r\n\r\n 完成选择后，会将选择的 spot 作为一个数组存入 微信的 storage, key 为 selectedSpots， 并后退一个页面\r\n 请在接下来的页面自行调用 getStorage获得选择的 spots\r\n\r\n IMPORTANT!!!!!!!!! 请在其他页面 获得spots之后，将其存储清除，避免下次使用时出错\r\n*/\r\n<template>\r\n  <div>\r\n    <div id=\"search\">\r\n      <icon type=\"search\" size=\"10\" color=\"black\"/>\r\n      <div style=\"margin-left:10rpx;display:inline-block;width:90%;color:black;\">\r\n        <d-input\r\n        placeholder=\"搜索景点\"\r\n        confirm-type=\"search\"\r\n        :value=\"searchValue\"\r\n        @input=\"searchWord = $event\"\r\n        @on-enter=\"handleResetSearch\"/>\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"selected-list\">\r\n      <div\r\n      v-for=\"spot in selectedSpots\"\r\n      :key=\"spot.id\"\r\n      class=\"selected-item\">\r\n        <div style=\"margin-right:4rpx;\">\r\n          {{ spot.name }}\r\n        </div>\r\n        <div @click=\"handleRemoveSpot(spot)\">\r\n          <icon type=\"cancel\" size=\"20\" color=\"red\"></icon>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <div id=\"result-list\">\r\n      <scroll-view\r\n        class=\"scroll\"\r\n        scroll-with-animation\r\n        enable-back-to-top\r\n        scroll-y\r\n        :style=\"heightStyle\"\r\n        :scroll-top=\"scrollTop\"\r\n        @scrolltolower=\"handleScrollToSearch\">\r\n        <div>\r\n          <div\r\n          v-for=\"spot in spots\"\r\n          :key=\"spot.id\"\r\n          class=\"spot-item d-card\">\r\n            <div>\r\n              <div>\r\n                {{ spot.name }}\r\n              </div>\r\n              <div style=\"color: gray; font-size:0.8em;\">\r\n                {{ spot.location.province + '-' + spot.location.city + '-' +spot.location.region }}\r\n              </div>\r\n              <div style=\"text-align:right; font-size: 0.8em;\">\r\n                <a\r\n                class=\"d-a\"\r\n                @click=\"handleSelectSpot(spot)\">\r\n                    选择\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div v-if=\"finishedLoading\">\r\n            <d-loading :loading=\"loading\"/>\r\n            <d-no-more :has-more=\"hasMore\"/>\r\n            <d-no-more :has-more=\"!hasMore || spots.length || loading || firstSearch\"/>\r\n          </div>\r\n        </div>\r\n      </scroll-view>\r\n    </div>\r\n\r\n\r\n    <div id=\"btn-div\">\r\n      <button\r\n        style=\"margin:10rpx;\"\r\n        size=\"mini\"\r\n        @click=\"handleClearSearch\">\r\n          清空\r\n      </button>\r\n      <button\r\n        size=\"mini\"\r\n        style=\"margin:10rpx;\"\r\n        type=\"primary\"\r\n        @click=\"handleSubmit\">\r\n          确定\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DNoMore from '../../components/common/DNoMore'\r\nimport DLoading from '../../components/common/DLoading'\r\nimport DInput from '../../components/common/DInput'\r\n\r\nimport spotApi from '../../api/spot'\r\nimport { SELECTED_SPOTS } from '../../api/const/guideConst'\r\nimport {WINDOW_HEIGHT} from '../../api/const/commonConst'\r\n\r\nexport default {\r\n  components: {\r\n    DInput,\r\n    DNoMore,\r\n    DLoading\r\n  },\r\n  data () {\r\n    return {\r\n      spots: [],\r\n\r\n      searchWord: '',\r\n      searchValue: undefined, // 用于清空搜索框\r\n      selectedSpots: [],\r\n      loading: false,\r\n      hasMore: true,\r\n      firstSearch: true,\r\n\r\n      finishedLoading: false,\r\n      pageName: 'select_spots',\r\n\r\n      scrollHeight: 500\r\n    }\r\n  },\r\n  computed: {\r\n    heigthStyle () {\r\n      return `height: ${this.scrollHeight}px`\r\n    }\r\n  },\r\n  mounted () {\r\n    this.finishedLoading = false\r\n\r\n    // 初始化数据\r\n    this.firstSearch = true\r\n    this.spots = []\r\n    this.selectedSpots = []\r\n    this.searchWord = ''\r\n    this.hasMore = true\r\n    this.loading = false\r\n\r\n    this.finishedLoading = true\r\n\r\n    this.refreshFavorSpots()\r\n    this.scrollHeight = wx.getStorageSync(WINDOW_HEIGHT)\r\n  },\r\n  methods: {\r\n    dLog (message, ...optionalParams) {\r\n      console.log(this.pageName, message, optionalParams)\r\n    },\r\n    dError (message, ...optionalParams) {\r\n      console.error(this.pageName, message, optionalParams)\r\n    },\r\n    showErrorRoast (errMsg, ...fai) {\r\n      this.dError(errMsg, fai)\r\n\r\n      // 输出提示信息\r\n      wx.showToast({\r\n        icon: 'none',\r\n        title: errMsg\r\n      })\r\n    },\r\n    refreshFavorSpots () {\r\n      this.dLog('refreshFavorSpots 方法响应')\r\n      this.selectedSpots.splice(0, this.selectedSpots.length)// 清空原 spot 数组\r\n\r\n      this.selectedSpots = wx.getStorageSync(SELECTED_SPOTS)\r\n      if (!this.selectedSpots) {\r\n        this.dLog('没找到 favorSpots')\r\n        this.selectedSpots = []\r\n      }\r\n    },\r\n    handleScrollToSearch (event) {\r\n      this.dLog('handleScrollToSearch 方法调用', event)\r\n\r\n      if (this.loading) {\r\n        this.dLog('加载中 return')\r\n        return\r\n      }\r\n\r\n      // 加载\r\n      this.hasMore = true\r\n      this.loading = true;\r\n\r\n      // 保留下上次最后的index\r\n      let lastIndex = this.spots.length\r\n\r\n      // 按照关键词搜索景点\r\n      spotApi.querySpotsByKeyword(\r\n        this.searchWord,\r\n        lastIndex,\r\n        (res) => {\r\n          this.dLog('搜索景点列表成功', res)\r\n\r\n          this.hasMore = res.hasMoreSpot\r\n\r\n          for (let key in res.spotList) {\r\n            this.spots.push(res.spotList[key])\r\n          }\r\n\r\n          this.loading = false\r\n        },\r\n        (fai) => {\r\n          this.showErrorRoast('搜索景点列表失败')\r\n\r\n          this.loading = false\r\n        }\r\n      )\r\n    },\r\n    handleResetSearch (event) {\r\n      this.dLog('handleResetSearch 方法调用', event)\r\n\r\n      // 非空检查\r\n      if (!this.searchWord) {\r\n        this.showErrorRoast('请输入搜索关键词w')\r\n        return\r\n      }\r\n\r\n      this.hasMore = true\r\n      this.firstSearch = false\r\n      this.spots.splice(0, this.spots.length)// 清空搜索的 spot 数组\r\n\r\n      // 重新搜索\r\n\r\n      // 加载\r\n      this.loading = true\r\n\r\n      // 上滑到顶部\r\n      this.scrollToTop()\r\n\r\n      // 按照关键词搜索景点\r\n      spotApi.querySpotsByKeyword(\r\n        this.searchWord,\r\n        0,\r\n        (res) => {\r\n          this.dLog('搜索景点列表成功', res)\r\n\r\n          this.hasMore = res.hasMoreSpot\r\n\r\n          for (let key in res.spotList) {\r\n            this.spots.push(res.spotList[key])\r\n          }\r\n\r\n          this.loading = false\r\n        },\r\n        (fai) => {\r\n          this.showErrorRoast('搜索景点列表失败', fai)\r\n\r\n          this.loading = false\r\n        }\r\n      )\r\n    },\r\n    handleSelectSpot (spot) {\r\n      this.dLog('handleSelectSpot 方法响应', spot)\r\n\r\n      if (this.selectedSpots.findIndex(\r\n        item => item.id === spot.id\r\n      ) !== -1) {\r\n        // 已经选过了\r\n        const errMsg = '这个景点已经被你承包啦！'\r\n        this.showErrorRoast(errMsg)\r\n        return\r\n      }\r\n\r\n      this.selectedSpots.push(spot)\r\n      this.spots.splice(\r\n        this.spots.findIndex(\r\n          item => item.id === spot.id\r\n        ),\r\n        1\r\n      )\r\n    },\r\n    handleRemoveSpot (spot) {\r\n      this.dLog('handleRemoveSpot 方法响应', spot)\r\n\r\n      this.spots.push(spot)\r\n      this.selectedSpots.splice(\r\n        this.selectedSpots.findIndex(\r\n          item => item.id === spot.id\r\n        ),\r\n        1\r\n      )\r\n    },\r\n    handleSubmit () {\r\n      this.dLog('handleSubmit 方法响应')\r\n\r\n      if (this.selectedSpots.length === 0) {\r\n        const errMsg = '请至少选择一个景点'\r\n        this.showErrorRoast(errMsg)\r\n        return\r\n      }\r\n\r\n      wx.setStorage({\r\n        key: SELECTED_SPOTS,\r\n        data: this.selectedSpots,\r\n        success: () => {\r\n          const sucMsg = '保存景点成功'\r\n          this.dLog(sucMsg, this.selectedSpots)\r\n\r\n          wx.navigateBack()\r\n\r\n          // 回滚\r\n          this.scrollToTop()\r\n        }\r\n      })\r\n    },\r\n    handleClearSearch (event) {\r\n      this.dLog('handleClearSearch 方法调用', event)\r\n\r\n      // 清空搜索框\r\n      this.searchValue = ''\r\n      setTimeout(\r\n        () => {\r\n          this.searchValue = undefined\r\n        }, 500\r\n      )\r\n\r\n      // 重置属性\r\n      this.searchWord = ''\r\n      this.firstSearch = true\r\n      this.hasMore = true\r\n      this.spots.splice(0, this.spots.length)// 清空搜索的 spot 数组\r\n\r\n      // 回滚\r\n      this.scrollToTop()\r\n    },\r\n    scrollToTop () {\r\n      this.dLog('scrollToTop 方法调用')\r\n\r\n      this.scrollTop = 0\r\n      setTimeout(\r\n        () => {\r\n          this.scrollTop = undefined\r\n        }, 500)\r\n\r\n      wx.pageScrollTo({\r\n        scrollTop: 0,\r\n        duration: 300\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#search {\r\n  margin: 20rpx;\r\n  padding-left: 20rpx;\r\n  font-size: 0.8em;\r\n  border: gray 1px solid;\r\n  border-radius: 5px;\r\n}\r\n\r\n#selected-list {\r\n  margin: auto;\r\n  width: 700rpx;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-start;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n#result-list {\r\n  padding: 20rpx;\r\n  margin-bottom: 100rpx;\r\n}\r\n\r\n\r\n.spot-item {\r\n  margin: 20rpx 0;\r\n  padding: 20rpx;\r\n  /* box-shadow: gray 0 0 1px; */\r\n}\r\n\r\n.selected-item {\r\n  margin: 10rpx;\r\n  padding: 10rpx;\r\n  background-color: rgba(0,0,0,0.05);\r\n  border-radius: 10rpx;\r\n\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-start;\r\n  text-align: center;\r\n\r\n  font-size: 16px;\r\n  /* line-height: 20px; */\r\n}\r\n\r\n#btn-div {\r\n  background-color: white;\r\n  box-shadow: gray -1px 0 1px;\r\n  width: 100%;\r\n  text-align: center;\r\n  position: fixed;\r\n  bottom: 0;\r\n  z-index: 100;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/select_spots/index.vue?76f1389a","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.1.2@vue-style-loader!./~/_css-loader@0.28.11@css-loader?{\"minimize\":false,\"sourceMap\":false}!./~/_mpvue-loader@1.0.13@mpvue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-ce6d22fe\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_px2rpx-loader@0.1.10@px2rpx-loader?{\"baseDpr\":1,\"rpxUnit\":0.5}!./~/_postcss-loader@2.1.6@postcss-loader/lib?{\"sourceMap\":true}!./~/_mpvue-loader@1.0.13@mpvue-loader/lib/selector.js?type=styles&index=0!./src/pages/select_spots/index.vue\n// module id = 220\n// module chunks = 18","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"search\"\n    }\n  }, [_c('icon', {\n    attrs: {\n      \"type\": \"search\",\n      \"size\": \"10\",\n      \"color\": \"black\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin-left\": \"10rpx\",\n      \"display\": \"inline-block\",\n      \"width\": \"90%\",\n      \"color\": \"black\"\n    }\n  }, [_c('d-input', {\n    attrs: {\n      \"placeholder\": \"搜索景点\",\n      \"confirm-type\": \"search\",\n      \"value\": _vm.searchValue,\n      \"eventid\": '0',\n      \"mpcomid\": '0'\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.searchWord = $event\n      },\n      \"on-enter\": _vm.handleResetSearch\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"selected-list\"\n    }\n  }, _vm._l((_vm.selectedSpots), function(spot, index) {\n    return _c('div', {\n      key: spot.id,\n      staticClass: \"selected-item\"\n    }, [_c('div', {\n      staticStyle: {\n        \"margin-right\": \"4rpx\"\n      }\n    }, [_vm._v(\"\\n        \" + _vm._s(spot.name) + \"\\n      \")]), _vm._v(\" \"), _c('div', {\n      attrs: {\n        \"eventid\": '1-' + index\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.handleRemoveSpot(spot)\n        }\n      }\n    }, [_c('icon', {\n      attrs: {\n        \"type\": \"cancel\",\n        \"size\": \"20\",\n        \"color\": \"red\"\n      }\n    })], 1)])\n  })), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"result-list\"\n    }\n  }, [_c('scroll-view', {\n    staticClass: \"scroll\",\n    style: (_vm.heightStyle),\n    attrs: {\n      \"scroll-with-animation\": \"\",\n      \"enable-back-to-top\": \"\",\n      \"scroll-y\": \"\",\n      \"scroll-top\": _vm.scrollTop,\n      \"eventid\": '3'\n    },\n    on: {\n      \"scrolltolower\": _vm.handleScrollToSearch\n    }\n  }, [_c('div', [_vm._l((_vm.spots), function(spot, index) {\n    return _c('div', {\n      key: spot.id,\n      staticClass: \"spot-item d-card\"\n    }, [_c('div', [_c('div', [_vm._v(\"\\n              \" + _vm._s(spot.name) + \"\\n            \")]), _vm._v(\" \"), _c('div', {\n      staticStyle: {\n        \"color\": \"gray\",\n        \"font-size\": \"0.8em\"\n      }\n    }, [_vm._v(\"\\n              \" + _vm._s(spot.location.province + '-' + spot.location.city + '-' + spot.location.region) + \"\\n            \")]), _vm._v(\" \"), _c('div', {\n      staticStyle: {\n        \"text-align\": \"right\",\n        \"font-size\": \"0.8em\"\n      }\n    }, [_c('a', {\n      staticClass: \"d-a\",\n      attrs: {\n        \"eventid\": '2-' + index\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.handleSelectSpot(spot)\n        }\n      }\n    }, [_vm._v(\"\\n                  选择\\n              \")])])])])\n  }), _vm._v(\" \"), (_vm.finishedLoading) ? _c('div', [_c('d-loading', {\n    attrs: {\n      \"loading\": _vm.loading,\n      \"mpcomid\": '1'\n    }\n  }), _vm._v(\" \"), _c('d-no-more', {\n    attrs: {\n      \"has-more\": _vm.hasMore,\n      \"mpcomid\": '2'\n    }\n  }), _vm._v(\" \"), _c('d-no-more', {\n    attrs: {\n      \"has-more\": !_vm.hasMore || _vm.spots.length || _vm.loading || _vm.firstSearch,\n      \"mpcomid\": '3'\n    }\n  })], 1) : _vm._e()], 2)])], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"btn-div\"\n    }\n  }, [_c('button', {\n    staticStyle: {\n      \"margin\": \"10rpx\"\n    },\n    attrs: {\n      \"size\": \"mini\",\n      \"eventid\": '4'\n    },\n    on: {\n      \"click\": _vm.handleClearSearch\n    }\n  }, [_vm._v(\"\\n        清空\\n    \")]), _vm._v(\" \"), _c('button', {\n    staticStyle: {\n      \"margin\": \"10rpx\"\n    },\n    attrs: {\n      \"size\": \"mini\",\n      \"type\": \"primary\",\n      \"eventid\": '5'\n    },\n    on: {\n      \"click\": _vm.handleSubmit\n    }\n  }, [_vm._v(\"\\n        确定\\n    \")])], 1)])\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-loader/node_modules/vue-hot-reload-api\").rerender(\"data-v-ce6d22fe\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_mpvue-loader@1.0.13@mpvue-loader/lib/template-compiler?{\"id\":\"data-v-ce6d22fe\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_mpvue-loader@1.0.13@mpvue-loader/lib/selector.js?type=template&index=0!./src/pages/select_spots/index.vue\n// module id = 278\n// module chunks = 18","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/_mpvue-loader@1.0.13@mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ce6d22fe\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":0.5}!postcss-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_mpvue-loader@1.0.13@mpvue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_mpvue-loader@1.0.13@mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_mpvue-loader@1.0.13@mpvue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_mpvue-loader@1.0.13@mpvue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ce6d22fe\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_mpvue-loader@1.0.13@mpvue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ce6d22fe\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src\\\\pages\\\\select_spots\\\\index.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] index.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-loader/node_modules/vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-ce6d22fe\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-ce6d22fe\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/select_spots/index.vue\n// module id = 77\n// module chunks = 18"],"sourceRoot":""}